{"ast":null,"code":"// import { ApolloClient } from \"apollo-client\";\nimport { ApolloClient, InMemoryCache } from \"@apollo/client\";\nimport { createHttpLink } from \"apollo-link-http\";\nimport { setContext } from \"apollo-link-context\"; // import { InMemoryCache } from \"apollo-cache-inmemory\";\n\nimport fetch from \"isomorphic-unfetch\";\nimport store from \"../store\";\nimport { currentUrl } from \"./mainUrl\";\nconst uri = `${currentUrl}/graphql`;\nconst httpLink = createHttpLink({\n  uri,\n  fetch\n});\nconst authLink = setContext((_, {\n  headers\n}) => {\n  const {\n    user\n  } = store.getState();\n  const token = user.token || null;\n  return {\n    headers: { ...headers,\n      \"x-token\": token\n    }\n  };\n});\nexport const client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache()\n}); // import { ApolloClient } from \"apollo-client\";\n// import { createHttpLink } from \"apollo-link-http\";\n// import { setContext } from \"apollo-link-context\";\n// import { InMemoryCache } from \"apollo-cache-inmemory\";\n// import { currentUrl } from \"./mainUrl\";\n// import store from \"../store\";\n// const uri = `${currentUrl}/graphql`;\n// const httpLink = createHttpLink({ uri, fetch });\n// const authLink = setContext((_, { headers }) => {\n//   const { user } = store.getState();\n//   const token = user.token || null;\n//   return {\n//     headers: {\n//       ...headers,\n//       \"x-token\": token,\n//     },\n//   };\n// });\n// export const client = new ApolloClient({\n//   link: authLink.concat(httpLink),\n//   cache: new InMemoryCache()\n// });","map":{"version":3,"sources":["/Users/ori-dev/Documents/TestProjest/react-redux/react-redux-login/fontend-react/src/config/client.ts"],"names":["ApolloClient","InMemoryCache","createHttpLink","setContext","fetch","store","currentUrl","uri","httpLink","authLink","_","headers","user","getState","token","client","link","concat","cache"],"mappings":"AAAA;AACA,SACEA,YADF,EAEEC,aAFF,QAIO,gBAJP;AAKA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,UAAT,QAA2B,qBAA3B,C,CACA;;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,UAAT,QAA2B,WAA3B;AAEA,MAAMC,GAAG,GAAI,GAAED,UAAW,UAA1B;AAEA,MAAME,QAAQ,GAAGN,cAAc,CAAC;AAAEK,EAAAA,GAAF;AAAOH,EAAAA;AAAP,CAAD,CAA/B;AACA,MAAMK,QAAQ,GAAGN,UAAU,CAAC,CAACO,CAAD,EAAI;AAAEC,EAAAA;AAAF,CAAJ,KAAoB;AAC9C,QAAM;AAAEC,IAAAA;AAAF,MAAWP,KAAK,CAACQ,QAAN,EAAjB;AACA,QAAMC,KAAK,GAAGF,IAAI,CAACE,KAAL,IAAc,IAA5B;AACA,SAAO;AACLH,IAAAA,OAAO,EAAE,EACP,GAAGA,OADI;AAEP,iBAAWG;AAFJ;AADJ,GAAP;AAMD,CAT0B,CAA3B;AAWA,OAAO,MAAMC,MAAM,GAAG,IAAIf,YAAJ,CAAiB;AACrCgB,EAAAA,IAAI,EAAEP,QAAQ,CAACQ,MAAT,CAAgBT,QAAhB,CAD+B;AAErCU,EAAAA,KAAK,EAAE,IAAIjB,aAAJ;AAF8B,CAAjB,CAAf,C,CAKP;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA","sourcesContent":["// import { ApolloClient } from \"apollo-client\";\nimport {\n  ApolloClient,\n  InMemoryCache,\n  NormalizedCacheObject,\n} from \"@apollo/client\";\nimport { createHttpLink } from \"apollo-link-http\";\nimport { setContext } from \"apollo-link-context\";\n// import { InMemoryCache } from \"apollo-cache-inmemory\";\nimport fetch from \"isomorphic-unfetch\";\nimport store from \"../store\";\nimport { currentUrl } from \"./mainUrl\";\n\nconst uri = `${currentUrl}/graphql`;\n\nconst httpLink = createHttpLink({ uri, fetch });\nconst authLink = setContext((_, { headers }) => {\n  const { user } = store.getState();\n  const token = user.token || null;\n  return {\n    headers: {\n      ...headers,\n      \"x-token\": token,\n    },\n  };\n});\n\nexport const client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\n// import { ApolloClient } from \"apollo-client\";\n// import { createHttpLink } from \"apollo-link-http\";\n// import { setContext } from \"apollo-link-context\";\n// import { InMemoryCache } from \"apollo-cache-inmemory\";\n// import { currentUrl } from \"./mainUrl\";\n// import store from \"../store\";\n\n// const uri = `${currentUrl}/graphql`;\n\n// const httpLink = createHttpLink({ uri, fetch });\n// const authLink = setContext((_, { headers }) => {\n//   const { user } = store.getState();\n//   const token = user.token || null;\n//   return {\n//     headers: {\n//       ...headers,\n//       \"x-token\": token,\n//     },\n//   };\n// });\n\n// export const client = new ApolloClient({\n//   link: authLink.concat(httpLink),\n//   cache: new InMemoryCache()\n// });\n"]},"metadata":{},"sourceType":"module"}